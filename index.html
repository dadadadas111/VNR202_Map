<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta
    name="description"
    content="Interactive Leaflet map highlighting key milestones in the history of the Communist Party of Vietnam, built by team SE1823-NET for the VNR202 course."
  />
  <meta
    name="keywords"
    content="Vietnam history map, Communist Party of Vietnam, VNR202 project, interactive timeline, Leaflet map"
  />
  <title>Bản đồ số lịch sử Đảng Cộng sản Việt Nam — Prototype</title>

  <!-- Leaflet CSS (no integrity to avoid CDN digest mismatch in some environments) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

  <!-- Fonts: serif for headings (historic feel) + clean sans for body -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="topbar">
    <div class="title-area">
      <h1>Bản đồ số lịch sử — Đảng Cộng sản Việt Nam</h1>
      <p class="subtitle">Chọn giai đoạn để lọc sự kiện; click vào tỉnh để xem chi tiết.</p>
    </div>
    <div class="control-area">
      <label for="periodSelect">Giai đoạn</label>
      <select id="periodSelect">
        <option value="p1">1930–1945</option>
        <option value="p2">1945–1975</option>
        <option value="p3">1975–nay</option>
      </select>
    </div>
    <div class="header-actions">
      <a href="https://github.com/dadadadas111/VNR202_Map" target="_blank" class="github-link" title="Xem trên GitHub">
        <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/github/github-original.svg" alt="GitHub" style="height:22px;vertical-align:middle;"> GitHub
      </a>
      <button id="aboutBtn" class="about-btn" title="Thông tin nhóm">About</button>
    </div>
  </header>


  <div id="loader" class="loader">Đang tải bản đồ...</div>

  <!-- About Popup -->
  <div id="aboutPopup" class="about-popup" style="display:none;">
    <div class="about-content">
        <button id="closeAbout" class="close-about">×</button>
      <h2>Giới thiệu sản phẩm</h2>
      <p>Đây là sản phẩm sáng tạo của <b>Nhóm 5 lớp SE1823-NET</b>, môn <b>VNR202</b>, do thầy <b>Namkv</b> là giảng viên.</p>
      <div class="about-members">
        <b>Thành viên nhóm:</b>
        <ul>
          <li>Nguyễn Thế Phong</li>
          <li>Nguyễn Văn Hùng</li>
          <li>Lê Hoàng Anh</li>
          <li>Trịnh Hoàng Việt</li>
          <li>Nguyễn Hải Đăng</li>
          <li>Lê Nhật Huy <i>(leader)</i></li>
          <li>Nguyễn Thành Long</li>
        </ul>
      </div>
      <div class="about-actions" style="margin-top:14px;text-align:right;">
        <button id="continueBtn" class="about-continue">Tiếp tục xem</button>
      </div>
    </div>
  </div>

  <!-- Left / Right panels (hidden by default) -->
  <!-- Bubble buttons to reopen panels -->
  <button id="leftBubble" class="panel-bubble left-bubble" title="Mở danh sách sự kiện">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <line x1="8" y1="6" x2="21" y2="6"></line>
      <line x1="8" y1="12" x2="21" y2="12"></line>
      <line x1="8" y1="18" x2="21" y2="18"></line>
      <line x1="3" y1="6" x2="3.01" y2="6"></line>
      <line x1="3" y1="12" x2="3.01" y2="12"></line>
      <line x1="3" y1="18" x2="3.01" y2="18"></line>
    </svg>
  </button>

  <button id="rightBubble" class="panel-bubble right-bubble" title="Mở thông tin chi tiết">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="12" cy="12" r="10"></circle>
      <line x1="12" y1="16" x2="12" y2="12"></line>
      <line x1="12" y1="8" x2="12.01" y2="8"></line>
    </svg>
  </button>

  <div id="leftPanel" class="panel left">
    <div class="panel-header">Sự kiện <button id="closeLeft" class="close-btn">✕</button></div>
    <div id="leftContent" class="panel-content">Chưa có dữ liệu.</div>
  </div>

  <div id="rightPanel" class="panel right">
    <div class="panel-header">Thông tin <button id="closeRight" class="close-btn">✕</button></div>
    <div id="rightContent" class="panel-content">Chưa có tỉnh được chọn.</div>
  </div>

  <div id="map"></div>

  <!-- Leaflet JS (no integrity attribute to avoid blocked loading) -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- small UI and map action helpers split out to keep main script smaller -->
  <script src="ui-panels.js"></script>
  <script src="map-actions.js"></script>

  <script src="script.js"></script>
</body>
</html>